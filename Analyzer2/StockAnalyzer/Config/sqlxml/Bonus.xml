<?xml version="1.0" encoding="UTF-8" ?>
<sqlMap namespace="Bonus"
xmlns="http://ibatis.apache.org/mapping"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >
  <!--Type aliases allow you to use a shorter name for long fully qualified class names.-->
  <alias>
    <typeAlias alias="Bonus" type="FinanceAnalyzer.DB.Bonus" />
  </alias>

  <resultMaps>
    <resultMap id="AllResult" class="Bonus">
      <result property="BonusYear" column="YEAR" />
      <result property="StockId" column="STOCKID" />
      <result property="BonusCount" column="BONUS" />
      <result property="Dividend" column="DIVIDEND" />
      <result property="RegistOn" column="REGISTONDATE" />
      <result property="ExexDividend" column="EXEXDIVIDENDDATE" />
      <result property="DividendDate" column="DIVIDENDDATE" />
      <result property="BonusListOn" column="BONUSLISTONDATE" />
    </resultMap>
  </resultMaps>

  <statements>
    <insert id="InsertBonus" parameterClass="Bonus">
      INSERT INTO [T_Bonus]
      (YEAR, STOCKID, BONUS, DIVIDEND, REGISTONDATE, EXEXDIVIDENDDATE, DIVIDENDDATE, BONUSLISTONDATE)
      VALUES
      (#BonusYear#, #StockId#, #BonusCount#, #Dividend#, #RegistOn#, #ExexDividend#, #DividendDate#, #BonusListOn#)
    </insert>

    <select id="SelectAll" resultMap="AllResult">
      SELECT
      YEAR,
      STOCKID,
      BONUS,
      DIVIDEND,
      REGISTONDATE,
      EXEXDIVIDENDDATE,
      DIVIDENDDATE,
      BONUSLISTONDATE
      from T_Bonus
    </select>

    <select id="SelectByStockId" parameterClass="int" resultMap="AllResult">
      SELECT
      YEAR,
      STOCKID,
      BONUS,
      DIVIDEND,
      REGISTONDATE,
      EXEXDIVIDENDDATE,
      DIVIDENDDATE,
      BONUSLISTONDATE
      from T_Bonus
      <dynamic prepend="WHERE">
        <isParameterPresent>
          STOCKID = #value#
        </isParameterPresent>
      </dynamic>
    </select>

  </statements>
</sqlMap>
